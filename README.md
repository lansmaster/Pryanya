Небольшое описание
-----------------------------------
Мобильное приложение с игровой механикой квеста и интерактивным голосовым помощником, позволяющее гостям города Тулы спланировать прогулочный маршрут, объединенный определенной темой и логистикой.

Инструкция запуска приложния
-----------------------------------
Запуск приложения можно осуществить двумя способами: 

Скачать АПК файл на смартфон на Android и установить приложение. АПК можно скачать по ссылке: https://drive.google.com/file/d/1PMjUBM8Y45J3yxHL4phsaNTcPl1NeGN8/view?usp=sharing

А также можно и в дальнейшем **нужно** (опишу чуть ниже) открыть проект в Unity. Сделать это можно путем клонирования гит-репозитория на свой компьютер и далее открыть его как проект в Unity Hub. Ссылка на репозиторий: https://github.com/lansmaster/Pryanya

Так как мы использовали в своем проекте Yandex SpeechKit для синтеза речи, существует один нюанс с работоспособностью синтеза речи. Так как для http запроса к API SpeechKit требуется IAM-токен, который действителен только в течение 12 часов. Поэтому, когда вы запустите приложение, то скорее всего синтез речи уже не будет работать. И чтобы исправить это нужно открыть проект в Unity и вручную поменять IAM-токен. Сделать это можно открыв файл с C# скриптом по адресу: Pryanya\Assets\Scripts\SoundSynthesis.cs, и поменять значение поля ***_iamToken***.

![1](https://github.com/lansmaster/Pryanya/raw/main/ReadmeResourses/1.png)

Инструкция как получить IAM-токен есть на сайте Yandex Cloud: https://cloud.yandex.ru/ru/docs/iam/operations/iam-token/create#api_1

Также для если вы планируете заниматься дальнейшей разработкой, то вам также необходимо поменять FolderID, так как текущий FolderID от нашего аккаунта. Сделать это можно способом, описанным ранее, только поле ***_folderId***.

Так же с приложением можно ознакомится, посмотрев запись геймплея. Видео находится по ссылке: https://drive.google.com/file/d/16yzmdW3PJ8YtThu3-2KOf2n7FYOtQ2X8/view?usp=sharing

Инструкция использования приложения
-----------------------------------
Интерфейс приложения довольно прост и интуитивно понятен. Он включает в себя поле для вывода текста и несколько видов кнопок.

![2 text](https://github.com/lansmaster/Pryanya/raw/main/ReadmeResourses/2.png)
 
1.	Кнопка продолжения диалога:

![3 text](https://github.com/lansmaster/Pryanya/raw/main/ReadmeResourses/3.png)

2.	Кнопка выбора диалога:

![4 text](https://github.com/lansmaster/Pryanya/raw/main/ReadmeResourses/4.png)

3.	Кнопка открытия гиперссылки. Например, для открытия маршрута на Яндекс Картах. Пряня подскажет, когда эта кнопка появится и куда она ведет.

![5 text](https://github.com/lansmaster/Pryanya/raw/main/ReadmeResourses/5.png)
   
Что мы использовали при разработке
-----------------------------------
Для разработки приложения мы выбрали движок Unity, так как наше приложение очень похоже на игру и благодаря этому нам было очень удобно проектировать и внедрять многие механики, например диалоговую систему.
Диалоговая система полностью построена на [Ink](https://www.inklestudios.com/ink). Ink это язык разметки с помощью которого можно писать сценарии для игры и очень удобно обрабатывать в C# для внедрения в Unity.

Весь диалог с нашим персонажем прописан в одном файле Pryanya\Assets\Resourses\MainDialogue.ink. Удобно редактировать его можно с помощью специального редактора Inky.

![6 text](https://github.com/lansmaster/Pryanya/raw/main/ReadmeResourses/6.png)
 
Так же для синтеза речи мы использовали технологию Yandex SpeechKit TTS. Объяснить принцип действия не сложно. Для начала мы берем текст с текущей строки диалога и отправляем его API с помощью http-запроса и в ответ получаем аудио файл, который сразу воспроизводим.  

![7 text](https://github.com/lansmaster/Pryanya/raw/main/ReadmeResourses/7.png)

Что мы не успели внедрить
-----------------------------------
Изначально у нас в планах была механика достижения пользователем контрольной точки в маршруте, с помощью данных геолокации устройства.
Должна была быть таблица в NocoDB с контрольными точками маршрутов и их данными: координаты и сопутствующая информация. В зависимости от текущего диалога определялась бы нужная контрольная точка на маршруте. И приложение должно было определять, где находится пользователь и если он приблизился к нужному месту присылать уведомление и при открытии приложения диалог бы продолжился.

Это не суперсложная задача, которую мы бы не смоги решить, но нам банально не хватило времени. Мы начали работу над этой механикой и в [миро борде](https://miro.com/app/board/uXjVNiT-8Ic=/?share_link_id=638313834002) можно посмотреть наши наработки.
